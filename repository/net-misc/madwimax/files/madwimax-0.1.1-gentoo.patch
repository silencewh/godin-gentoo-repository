diff -ruN ../mwm/scripts/events/event.sh.gentoo.in ./scripts/events/event.sh.gentoo.in
--- ../mwm/scripts/events/event.sh.gentoo.in	1970-01-01 03:00:00.000000000 +0300
+++ ./scripts/events/event.sh.gentoo.in	2010-07-10 21:09:41.745785132 +0400
@@ -0,0 +1,22 @@
+#!/bin/sh
+# Usage: event.sh <event> <if-name>
+
+IFNAME=$2
+
+case "$1" in
+    if-create)
+    ;;
+    if-up)
+        test -x /etc/init.d/net.$IFNAME && /etc/init.d/net.$IFNAME start
+    ;;
+    if-down)
+        test -x /etc/init.d/net.$IFNAME && /etc/init.d/net.$IFNAME stop
+    ;;
+    if-release)
+    ;;
+    *)
+	echo "Usage: $0 { if-create | if-up | if-down | if-release }" >&2
+	exit 3
+    ;;
+esac
+
diff -ruN ../mwm/scripts/udev/z60_madwimax.rules.in ./scripts/udev/z60_madwimax.rules.in
--- ../mwm/scripts/udev/z60_madwimax.rules.in	2009-07-04 07:54:13.000000000 +0400
+++ ./scripts/udev/z60_madwimax.rules.in	2010-07-10 21:10:23.611659779 +0400
@@ -1,16 +1,16 @@
 # udev rules file for madwimax supported devices
-SUBSYSTEM!="usb|usb_device", GOTO="madwimax_rules_end"
 ACTION!="add", GOTO="madwimax_rules_end"
 
-# detach buggy disk
-ATTRS{idVendor}=="04e8", ATTRS{idProduct}=="6761", ATTR{bInterfaceNumber}=="01", RUN+="/bin/sh -c '/bin/echo -n $kernel > /sys/$devpath/driver/unbind'"
-ATTRS{idVendor}=="04e9", ATTRS{idProduct}=="6761", ATTR{bInterfaceNumber}=="01", RUN+="/bin/sh -c '/bin/echo -n $kernel > /sys/$devpath/driver/unbind'"
-ATTRS{idVendor}=="04e8", ATTRS{idProduct}=="6780", ATTR{bInterfaceNumber}=="01", RUN+="/bin/sh -c '/bin/echo -n $kernel > /sys/$devpath/driver/unbind'"
+SUBSYSTEM=="usb_device", GOTO="madwimax_rules_start"
+SUBSYSTEM=="usb", ENV{DEVTYPE}=="usb_device", GOTO="madwimax_rules_start"
+GOTO="madwimax_rules_end"
+
+LABEL="madwimax_rules_start"
 
 # run madwimax
-ATTR{idVendor}=="04e8", ATTR{idProduct}=="6761", RUN+="@SBINDIR@/madwimax -qd --exact-device=$attr{busnum}/$attr{devnum}"
-ATTR{idVendor}=="04e9", ATTR{idProduct}=="6761", RUN+="@SBINDIR@/madwimax -qd --exact-device=$attr{busnum}/$attr{devnum}"
-ATTR{idVendor}=="04e8", ATTR{idProduct}=="6731", RUN+="@SBINDIR@/madwimax -qd --exact-device=$attr{busnum}/$attr{devnum}"
-ATTR{idVendor}=="04e8", ATTR{idProduct}=="6780", RUN+="@SBINDIR@/madwimax -qd --exact-device=$attr{busnum}/$attr{devnum}"
+ENV{ID_VENDOR_ID}=="04e8", ENV{ID_MODEL_ID}=="6761", RUN+="/usr/sbin/madwimax -df --exact-device=$env{BUSNUM}/$env{DEVNUM}"
+ENV{ID_VENDOR_ID}=="04e9", ENV{ID_MODEL_ID}=="6761", RUN+="/usr/sbin/madwimax -df --exact-device=$env{BUSNUM}/$env{DEVNUM}"
+ENV{ID_VENDOR_ID}=="04e8", ENV{ID_MODEL_ID}=="6731", RUN+="/usr/sbin/madwimax -d --exact-device=$env{BUSNUM}/$env{DEVNUM}"
+ENV{ID_VENDOR_ID}=="04e8", ENV{ID_MODEL_ID}=="6780", RUN+="/usr/sbin/madwimax -df --exact-device=$env{BUSNUM}/$env{DEVNUM}"
 
 LABEL="madwimax_rules_end"
